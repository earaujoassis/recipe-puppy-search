<div class="container">
  <div class="row">
    <div class="col-md-12">
      <form action="<%= root_path %>" method="get" class="form-inline my-2 my-lg-0">
        <input name="q" type="text"
          class="form-control mr-sm-2 col-md-8"
          placeholder="Search for recipe..." aria-label="Search for recipe..."
          value="<%= @query || '' %>" />
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
      </form>
    </div>
  </div>
  <hr />
  <div class="row">
    <div class="col-md-12">
      <% if @entries.present? %>
      <ul class="recipes-listing">
        <% @entries.each do |recipe| %>
        <li>
          <h2 class="title"><a href="<%= recipe[:href] %>" target="_blank"><%= recipe[:title].html_safe %></a></h2>
          <p>Main ingredients: <%= recipe[:ingredients] %></p>
        </li>
        <% end %>
      </ul>
      <% else %>
      <% if @query.present? %>
      <p class="feedback-message">Sorry, we got no results :(</p>
      <% else %>
      <p class="feedback-message">Please provide a recipe to search :)</p>
      <% end %>
      <% end %>
    </div>
  </div>
</div>
